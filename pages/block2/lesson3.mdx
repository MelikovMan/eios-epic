# –ó–∞–Ω—è—Ç–∏–µ 3. –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React.
## 1. –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React
### 1.1. –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React?
React Server Components (RSC) ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø–∞—Ä–∞–¥–∏–≥–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —É–º–µ–Ω—å—à–∞—è –æ–±—ä–µ–º JavaScript, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—É.

### 1.2. –≠–≤–æ–ª—é—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ React
```jsx
// ‚ùå CSR (Client-Side Rendering) - —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
// –í–µ—Å—å JavaScript –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç
function ClientSideApp() {
  const [data, setData] = useState(null);
  
  useEffect(() => {
    // –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
    fetch('/api/data').then(res => res.json()).then(setData);
  }, []);
  
  if (!data) return <div>Loading...</div>;
  return <div>{data.content}</div>;
}

// ‚úÖ SSR (Server-Side Rendering) - —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
// HTML —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –Ω–æ –≥–∏–¥—Ä–∞—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
export async function getServerSideProps() {
  const data = await fetchData();
  return { props: { data } };
}

function ServerRenderedPage({ data }) {
  return <div>{data.content}</div>;
}

// üöÄ RSC (React Server Components) - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π UI
async function ServerComponent() {
  const data = await fetchData(); // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  return <div>{data.content}</div>;
}
```
### 1.3. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
–£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞ - —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç

–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º - –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, API, —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

–£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å - –º–µ–Ω—å—à–µ JavaScript –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–õ—É—á—à–∏–π SEO - –∫–æ–Ω—Ç–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## 2. –°–µ—Ä–≤–µ—Ä–Ω—ã–µ vs –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
|–ê—Å–ø–µ–∫—Ç	   |   –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã                 |	–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã           |
| :----- | :----: | ----: |
|–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ	|–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ                          |	                      –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ|
|–î–æ—Å—Ç—É–ø –∫ DOM|–ù–µ—Ç                                |	 –î–∞                             |
|–°–æ—Å—Ç–æ—è–Ω–∏–µ|	 –ù–µ—Ç useState/useReducer             |	 –î–∞                             |
|–≠—Ñ—Ñ–µ–∫—Ç—ã| –ù–µ—Ç useEffect                          |	 –î–∞                             |
|–°–æ–±—ã—Ç–∏—è|	 –ù–µ—Ç onClick/onChange                |	 –î–∞                             |
|–î–æ—Å—Ç—É–ø –∫ API|	 –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø	                 |   –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ fetch             |
|–†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞|	 –ù–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–∞–Ω–¥–ª|	 –í–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–∞–Ω–¥–ª  |

![–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](/server-components.png)

## 3. –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
### 3.1. –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```jsx
// üü¢ –ü–†–ê–í–ò–õ–¨–ù–û: –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π
async function ProductPage() {
  const product = await getProduct();
  
  return (
    <div>
      <ProductDetails product={product} /> {/* –°–µ—Ä–≤–µ—Ä–Ω—ã–π */}
      <ProductImageGallery images={product.images} /> {/* –°–µ—Ä–≤–µ—Ä–Ω—ã–π */}
      <AddToCart productId={product.id} /> {/* –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π */}
      <ProductReviews productId={product.id} /> {/* –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π */}
    </div>
  );
}

// üî¥ –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π
'use client';
function ClientComponent() {
  // ‚ùå –ù–µ–ª—å–∑—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  // const ServerComponent = await import('./ServerComponent');
  
  return (
    <div>
      {/* ‚ùå –ù–µ–ª—å–∑—è —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ */}
      {/* <ServerComponent /> */}
    </div>
  );
}
```
### 3.2. –ü–µ—Ä–µ–¥–∞—á–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
```jsx
// –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
async function Dashboard() {
  const serverData = await getServerData();
  
  return (
    <div>
      {/* –ü—Ä–æ—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ props */}
      <ClientChart data={serverData.chartData} />
      
      {/* –§—É–Ω–∫—Ü–∏–∏ –Ω—É–∂–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è */}
      <ClientForm onSubmitAction={updateData} />
      
      {/* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ children */}
      <ClientInteractiveSection>
        <ServerContent content={serverData.content} />
      </ClientInteractiveSection>
    </div>
  );
}

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
'use client';
function ClientChart({ data }) {
  const [selectedPoint, setSelectedPoint] = useState(null);
  
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  const chartData = processDataForChart(data);
  
  return (
    <div>
      <Chart 
        data={chartData} 
        onPointClick={setSelectedPoint}
      />
      {selectedPoint && <Tooltip data={selectedPoint} />}
    </div>
  );
}

```
![–ü—Ä–∏–º–µ—Ä —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](/serializable-components.png)
–í –±—Ä–∞–∑—É–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç—Å—è:
![–†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](/reconstructed.png)
### 3.3. –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (Server Actions)
```jsx
// app/actions.js
'use server';

export async function addToCart(productId, quantity) {
  // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  const db = await getDatabase();
  const user = await getCurrentUser();
  
  await db.cart.upsert({
    where: { userId_productId: { userId: user.id, productId } },
    update: { quantity: { increment: quantity } },
    create: { userId: user.id, productId, quantity }
  });
  
  revalidatePath('/cart'); // –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ–º –∫—ç—à
}

// –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
async function ProductCard({ product }) {
  return (
    <div className="product-card">
      <h3>{product.name}</h3>
      <p>{product.price} —Ä—É–±.</p>
      {/* –ü–µ—Ä–µ–¥–∞–µ–º —Å–µ—Ä–≤–µ—Ä–Ω—É—é action –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç */}
      <AddToCartForm 
        productId={product.id} 
        addToCartAction={addToCart}
      />
    </div>
  );
}

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
'use client';
function AddToCartForm({ productId, addToCartAction }) {
  const [isPending, startTransition] = useTransition();
  
  const handleSubmit = (formData) => {
    startTransition(async () => {
      try {
        await addToCartAction(productId, Number(formData.get('quantity')));
        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
      } catch (error) {
        // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É
      }
    });
  };
  
  return (
    <form action={handleSubmit}>
      <input type="number" name="quantity" defaultValue={1} min={1} />
      <button type="submit" disabled={isPending}>
        {isPending ? '–î–æ–±–∞–≤–ª—è–µ–º...' : '–í –∫–æ—Ä–∑–∏–Ω—É'}
      </button>
    </form>
  );
}
```
## 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
### 4.1. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
```jsx
// app/products/page.js
async function ProductsPage() {
  // –†–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
  const [products, userData, analytics] = await Promise.all([
    // –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 5 –º–∏–Ω—É—Ç
    fetch('/api/products', { next: { revalidate: 300 } }),
    
    // –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ (–¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
    fetch('/api/user', { next: { revalidate: 0, tags: ['user'] } }),
    
    // –ù–µ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ)
    fetch('/api/analytics', { cache: 'no-store' })
  ]);
  
  const productsData = await products.json();
  const user = await userData.json();
  const stats = await analytics.json();
  
  return (
    <div>
      <WelcomeBanner user={user} />
      <ProductGrid products={productsData} />
      <RealTimeStats stats={stats} />
    </div>
  );
}
```
### 4.2. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```jsx
// –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
async function HomePage() {
  const featuredProducts = await getFeaturedProducts();
  
  return (
    <div>
      <HeroSection />
      
      {/* –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Å—Ä–∞–∑—É */}
      <ProductShowcase products={featuredProducts} />
      
      {/* –ú–µ–Ω—å—à–µ –≤–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ª–µ–Ω–∏–≤–æ */}
      <Suspense fallback={<RecommendedSkeleton />}>
        <LazyRecommendedProducts />
      </Suspense>
      
      {/* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ª–µ–Ω–∏–≤–æ */}
      <Suspense fallback={<InteractiveSkeleton />}>
        <LazyInteractiveWidget />
      </Suspense>
    </div>
  );
}

// –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const LazyRecommendedProducts = lazy(() => 
  import('./RecommendedProducts').then(mod => ({
    default: mod.RecommendedProducts
  }))
);

const LazyInteractiveWidget = lazy(() => 
  import('./InteractiveWidget').then(mod => ({
    default: mod.InteractiveWidget
  }))
);
```
### 4.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
```jsx
import Image from 'next/image';

async function ProductGallery({ product }) {
  return (
    <div className="gallery">
      {product.images.map((image, index) => (
        <div key={image.id} className="gallery-item">
          <Image
            src={image.url}
            alt={image.alt || `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ ${index + 1}`}
            width={800}
            height={600}
            priority={index === 0} // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            placeholder="blur"
            blurDataURL={image.placeholder}
            sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
          />
        </div>
      ))}
    </div>
  );
}

```
## 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∑–∞–≥—Ä—É–∑–∫–∏
### 5.1. Error Boundaries –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```jsx
// app/error.js - –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
'use client';

export default function GlobalError({ error, reset }) {
  return (
    <html>
      <body>
        <div className="error-container">
          <h2>–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫!</h2>
          <button onClick={() => reset()}>
            –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
          </button>
        </div>
      </body>
    </html>
  );
}

// –õ–æ–∫–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫
async function ProductPage({ params }) {
  try {
    const product = await getProduct(params.id);
    return <ProductDetails product={product} />;
  } catch (error) {
    return <ProductError error={error} />;
  }
}

function ProductError({ error }) {
  return (
    <div className="product-error">
      <h3>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç</h3>
      <p>{error.message}</p>
      <button onClick={() => window.location.reload()}>
        –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
      </button>
    </div>
  );
}
```
### 5.2. –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
```jsx
// app/loading.js - –ì–ª–æ–±–∞–ª—å–Ω—ã–π loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
export default function GlobalLoading() {
  return (
    <div className="loading-overlay">
      <div className="spinner"></div>
      <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
    </div>
  );
}

// –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
async function UserProfile({ userId }) {
  const userPromise = getUser(userId);
  const postsPromise = getUserPosts(userId);
  
  return (
    <div>
      <Suspense fallback={<UserHeaderSkeleton />}>
        <UserHeader userPromise={userPromise} />
      </Suspense>
      
      <Suspense fallback={<PostsSkeleton />}>
        <UserPosts postsPromise={postsPromise} />
      </Suspense>
    </div>
  );
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–æ–º–∏—Å—ã
async function UserHeader({ userPromise }) {
  const user = await userPromise;
  return <h1>{user.name}</h1>;
}

async function UserPosts({ postsPromise }) {
  const posts = await postsPromise;
  return posts.map(post => <Post key={post.id} post={post} />);
}
```
## 6. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã
### 6.1. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
```jsx
// ‚úÖ –•–û–†–û–®–û: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
// –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –¥–∞–Ω–Ω—ã–µ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
async function BlogPost({ postId }) {
  const post = await getPost(postId);
  const relatedPosts = await getRelatedPosts(postId);
  
  return (
    <article>
      <PostContent post={post} />
      <RelatedPosts posts={relatedPosts} />
      <PostComments postId={postId} /> {/* –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç */}
    </article>
  );
}

// ‚úÖ –•–û–†–û–®–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–∏–≤
'use client'; // –¢–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
function InteractiveMap({ locations }) {
  const [selectedLocation, setSelectedLocation] = useState(null);
  
  return (
    <div>
      <Map locations={locations} onSelect={setSelectedLocation} />
      {selectedLocation && <LocationDetails location={selectedLocation} />}
    </div>
  );
}
```
## 7. –ú–∏–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ React –Ω–∞ RSC
### 7.1. –ü–æ—à–∞–≥–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
```jsx
// –î–û: –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
function OldProductPage({ productId }) {
  const [product, setProduct] = useState(null);
  const [loading, setLoading] = useState(true);
  
  useEffect(() => {
    fetch(`/api/products/${productId}`)
      .then(res => res.json())
      .then(setProduct)
      .finally(() => setLoading(false));
  }, [productId]);
  
  if (loading) return <div>Loading...</div>;
  return <ProductDetails product={product} />;
}

// –ü–û–°–õ–ï: –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç + –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —á–∞—Å—Ç–∏
// –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (app/products/[id]/page.js)
async function ProductPage({ params }) {
  const product = await getProduct(params.id);
  
  return (
    <div>
      <ProductHeader product={product} />
      <ProductGallery images={product.images} />
      <ClientProductActions product={product} />
    </div>
  );
}

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
'use client';
function ClientProductActions({ product }) {
  const [quantity, setQuantity] = useState(1);
  const [isAdding, setIsAdding] = useState(false);
  
  const handleAddToCart = async () => {
    setIsAdding(true);
    await addToCart(product.id, quantity);
    setIsAdding(false);
  };
  
  return (
    <div>
      <QuantitySelector value={quantity} onChange={setQuantity} />
      <AddToCartButton 
        onClick={handleAddToCart} 
        disabled={isAdding}
      />
    </div>
  );
}
```
## –í—ã–≤–æ–¥—ã
–°–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç JavaScript –Ω–∞ –∫–ª–∏–µ–Ω—Ç

–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –¥–∏—Ä–µ–∫—Ç–∏–≤—É 'use client' –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ UX

–°–µ—Ä–≤–µ—Ä–Ω—ã–µ actions –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è - –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ RSC

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
1. [Next.js Docs - Server Components](https://nextjs.org/docs/app/getting-started/server-and-client-components)

2. [React RFC - Server Components](https://legacy.reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html)
